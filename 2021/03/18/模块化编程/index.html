<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="xudaxia"><meta name="copyright" content="xudaxia"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>æ¨¡å—åŒ–ç¼–ç¨‹ | xudaxiaçš„åšå®¢</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.22/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_ed8vp4atwoj.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link id="light-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism.css" media="(prefers-color-scheme: light)"><link id="dark-prism-css" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.20.0/themes/prism-tomorrow.css" media="(prefers-color-scheme: dark)"><link rel="shortcut icon" type="image/svg+xml" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"example.com","root":"/","title":"Xu-DaXia-C","version":"1.3.0","mode":"auto","copycode":true,"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"/data/sentences.json"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="ï¼ˆæœ¬åšå®¢æ¨¡å—åŒ–ç¼–ç¨‹é’ˆå¯¹AT89C52å•ç‰‡æœºå¼€å‘ï¼‰åœ¨æ¯”è¾ƒå¤§çš„é¡¹ç›®ä¸­ã€‚ç¨‹åºçš„ç¼–å†™å¾€å¾€ä¸æ˜¯ç”±ä¸€ä¸ªäººæ¥å®Œæˆã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œä¼šæŠŠç¨‹åºåˆ†æˆå¤šä¸ªæ¨¡å—äº¤ç»™ä¸åŒäººæ¥ç¼–å†™ï¼Œæœ€åå†æ±‡æ€»èµ·æ¥ã€‚ åœ¨å•ç‰‡æœºçš„ç»ƒä¹ ä¸­ï¼Œéšç€æ¨¡å—è¶Šæ¥è¶Šå¤šç¨‹åºåŒ…å«çš„å‡½æ•°ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œç¨‹åºä¹Ÿä¼šè¶Šæ¥è¶Šé•¿è¶Šæ¥è¶Šå¤æ‚ã€‚è¿™æ—¶é€šè¿‡æ¨¡å—åŒ–ç¼–ç¨‹çš„æ–¹æ³•å¯ä»¥å¤§å¤§ç®€åŒ–ç¨‹åºã€‚ å‰ç½®çŸ¥è¯†æœ‰äº›çŸ¥è¯†æˆ‘è®¤ä¸ºå¯¹äºå­¦ä¹ æ¨¡å—åŒ–ç¼–ç¨‹ååˆ†é‡è¦ååˆ†é‡è¦ã€‚é€šè¿‡å­¦ä¹ è¿™äº›çŸ¥è¯†å¯ä»¥æ›´æ·±å…¥çš„ç†è§£æ¨¡å—åŒ–">
<meta property="og:type" content="article">
<meta property="og:title" content="æ¨¡å—åŒ–ç¼–ç¨‹">
<meta property="og:url" content="http://example.com/2021/03/18/%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B/index.html">
<meta property="og:site_name" content="xudaxiaçš„åšå®¢">
<meta property="og:description" content="ï¼ˆæœ¬åšå®¢æ¨¡å—åŒ–ç¼–ç¨‹é’ˆå¯¹AT89C52å•ç‰‡æœºå¼€å‘ï¼‰åœ¨æ¯”è¾ƒå¤§çš„é¡¹ç›®ä¸­ã€‚ç¨‹åºçš„ç¼–å†™å¾€å¾€ä¸æ˜¯ç”±ä¸€ä¸ªäººæ¥å®Œæˆã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œä¼šæŠŠç¨‹åºåˆ†æˆå¤šä¸ªæ¨¡å—äº¤ç»™ä¸åŒäººæ¥ç¼–å†™ï¼Œæœ€åå†æ±‡æ€»èµ·æ¥ã€‚ åœ¨å•ç‰‡æœºçš„ç»ƒä¹ ä¸­ï¼Œéšç€æ¨¡å—è¶Šæ¥è¶Šå¤šç¨‹åºåŒ…å«çš„å‡½æ•°ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œç¨‹åºä¹Ÿä¼šè¶Šæ¥è¶Šé•¿è¶Šæ¥è¶Šå¤æ‚ã€‚è¿™æ—¶é€šè¿‡æ¨¡å—åŒ–ç¼–ç¨‹çš„æ–¹æ³•å¯ä»¥å¤§å¤§ç®€åŒ–ç¨‹åºã€‚ å‰ç½®çŸ¥è¯†æœ‰äº›çŸ¥è¯†æˆ‘è®¤ä¸ºå¯¹äºå­¦ä¹ æ¨¡å—åŒ–ç¼–ç¨‹ååˆ†é‡è¦ååˆ†é‡è¦ã€‚é€šè¿‡å­¦ä¹ è¿™äº›çŸ¥è¯†å¯ä»¥æ›´æ·±å…¥çš„ç†è§£æ¨¡å—åŒ–">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-18T07:20:16.000Z">
<meta property="article:modified_time" content="2021-03-18T09:17:58.798Z">
<meta property="article:author" content="xudaxia">
<meta name="twitter:card" content="summary"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="æ–‡ç« ç›®å½•"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="ç«™ç‚¹æ¦‚è§ˆ"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info mickey-mouse"><a class="site-author-avatar" href="/about/" title="xudaxia"><img width="96" loading="lazy" src="/images/%E5%A4%B4%E5%83%8F.jpg" alt="xudaxia"><span class="site-author-status" title="æ°¸è¿œç›¸ä¿¡è‡ªå·±æ˜¯å…¨ä¸–ç•Œæœ€å¹¸ç¦çš„äºº">ğŸ’•</span></a><div class="site-author-name"><a href="/about/">xudaxia</a></div><a class="site-name" href="/about/site.html">xudaxiaçš„åšå®¢</a><sub class="site-subtitle"></sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="å½’æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">7</span></a></div><div class="site-state-item"><a href="/categories/" title="åˆ†ç±»"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><div class="site-state-item"><a href="/tags/" title="æ ‡ç­¾"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" href="/about/" title="ç•™è¨€æ¿"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-clipboard-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" title="QQ 1522621554" target="_blank" style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/Xu-DaXia-C" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1323118620" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/xudaxia-74" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://space.bilibili.com/354494576" title="å“”å“©å“”å“©" target="_blank" style="color:#FF8EB3"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-bilibili-line"></use></svg></a></div><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/links/" title="æˆ‘çš„å°ä¼™ä¼´ä»¬" style="color:dodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-genderless-line"></use></svg></a><a class="links-item hty-icon-button" href="/girls/" title="å–œæ¬¢çš„å¥³å­©å­" style="color:hotpink"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-women-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86"><span class="toc-number">1.</span> <span class="toc-text">å‰ç½®çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#C%E8%AF%AD%E8%A8%80%E6%BA%90%E6%96%87%E4%BB%B6-c"><span class="toc-number">1.1.</span> <span class="toc-text">Cè¯­è¨€æºæ–‡ä»¶.c</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#C%E8%AF%AD%E8%A8%80%E5%A4%B4%E6%96%87%E4%BB%B6-h"><span class="toc-number">1.2.</span> <span class="toc-text">Cè¯­è¨€å¤´æ–‡ä»¶.h</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%8F"><span class="toc-number">1.3.</span> <span class="toc-text">å®</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%8F%E5%AE%9A%E4%B9%89"><span class="toc-number">1.3.1.</span> <span class="toc-text">å®å®šä¹‰</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8C%85%E5%90%AB%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%8F"><span class="toc-number">1.3.2.</span> <span class="toc-text">åŒ…å«å¤´æ–‡ä»¶çš„å®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E7%BC%96%E8%AF%91%E5%AE%8F"><span class="toc-number">1.3.3.</span> <span class="toc-text">æ¡ä»¶ç¼–è¯‘å®</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A2%84%E5%A4%84%E7%90%86%E5%AE%8F"><span class="toc-number">1.3.4.</span> <span class="toc-text">é¢„å¤„ç†å®</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86"><span class="toc-number">2.</span> <span class="toc-text">å¤šæ–‡ä»¶ç¼–è¯‘åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Task"><span class="toc-number">3.</span> <span class="toc-text">Task</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">4.</span> <span class="toc-text">æ³¨æ„</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8"><span class="toc-number">5.</span> <span class="toc-text">å¼•ç”¨</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://example.com/2021/03/18/%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="xudaxia"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="xudaxiaçš„åšå®¢"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">æ¨¡å—åŒ–ç¼–ç¨‹</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <span class="post-meta-icon-text">å‘è¡¨äº</span> <time title="åˆ›å»ºæ—¶é—´ï¼š2021-03-18 15:20:16" itemprop="dateCreated datePublished" datetime="2021-03-18T15:20:16+08:00">2021-03-18</time></div><div class="post-classify"></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><p>ï¼ˆæœ¬åšå®¢æ¨¡å—åŒ–ç¼–ç¨‹é’ˆå¯¹AT89C52å•ç‰‡æœºå¼€å‘ï¼‰<br>åœ¨æ¯”è¾ƒå¤§çš„é¡¹ç›®ä¸­ã€‚ç¨‹åºçš„ç¼–å†™å¾€å¾€ä¸æ˜¯ç”±ä¸€ä¸ªäººæ¥å®Œæˆã€‚<br>ä¸ºäº†æé«˜æ•ˆç‡ï¼Œä¼šæŠŠç¨‹åºåˆ†æˆå¤šä¸ªæ¨¡å—äº¤ç»™ä¸åŒäººæ¥ç¼–å†™ï¼Œæœ€åå†æ±‡æ€»èµ·æ¥ã€‚</p>
<p>åœ¨å•ç‰‡æœºçš„ç»ƒä¹ ä¸­ï¼Œéšç€æ¨¡å—è¶Šæ¥è¶Šå¤šç¨‹åºåŒ…å«çš„å‡½æ•°ä¹Ÿä¼šè¶Šæ¥è¶Šå¤šï¼Œç¨‹åºä¹Ÿä¼šè¶Šæ¥è¶Šé•¿è¶Šæ¥è¶Šå¤æ‚ã€‚è¿™æ—¶é€šè¿‡æ¨¡å—åŒ–ç¼–ç¨‹çš„æ–¹æ³•å¯ä»¥å¤§å¤§ç®€åŒ–ç¨‹åºã€‚</p>
<h3 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h3><p>æœ‰äº›çŸ¥è¯†æˆ‘è®¤ä¸ºå¯¹äºå­¦ä¹ æ¨¡å—åŒ–ç¼–ç¨‹ååˆ†é‡è¦ååˆ†é‡è¦ã€‚é€šè¿‡å­¦ä¹ è¿™äº›çŸ¥è¯†å¯ä»¥æ›´æ·±å…¥çš„ç†è§£æ¨¡å—åŒ–ç¼–ç¨‹è¿‡ç¨‹ï¼Œä»è€Œæ›´å¥½åœ°æŒæ¡æ¨¡å—åŒ–ç¼–ç¨‹ã€‚</p>
<h4 id="Cè¯­è¨€æºæ–‡ä»¶-c"><a href="#Cè¯­è¨€æºæ–‡ä»¶-c" class="headerlink" title="Cè¯­è¨€æºæ–‡ä»¶.c"></a>Cè¯­è¨€æºæ–‡ä»¶.c</h4><p>æˆ‘ä»¬ç¼–å†™ç¨‹åºæ—¶ç¼–è¾‘çš„æ–‡ä»¶å°±æ˜¯æºæ–‡ä»¶ã€‚</p>
<h4 id="Cè¯­è¨€å¤´æ–‡ä»¶-h"><a href="#Cè¯­è¨€å¤´æ–‡ä»¶-h" class="headerlink" title="Cè¯­è¨€å¤´æ–‡ä»¶.h"></a>Cè¯­è¨€å¤´æ–‡ä»¶.h</h4><p>æˆ‘ä»¬åœ¨Cè¯­è¨€ç¼–å†™è¿‡ç¨‹ä¸­å¿…é¡»å†™çš„<strong>#include<stdio.h></strong>ä¸­çš„<strong>stdio.h</strong>å®é™…ä¸ŠåŒ…å«äº†è®¸å¤šå‡½æ•°çš„å£°æ˜ï¼Œé€šè¿‡<strong>åŒ…å«å¤´æ–‡ä»¶çš„å®</strong>è°ƒç”¨ä¹‹åå°±å¯ä»¥ä½¿ç”¨å¤´æ–‡ä»¶ä¸­çš„å‡½æ•°ã€‚</p>
<h4 id="å®"><a href="#å®" class="headerlink" title="å®"></a>å®</h4><p>æˆ‘ä»¬å¸¸è¯´å®å®šä¹‰ï¼Œä½†çœŸçš„ç†è§£å®å—ï¼Ÿ</p>
<h5 id="å®å®šä¹‰"><a href="#å®å®šä¹‰" class="headerlink" title="å®å®šä¹‰"></a>å®å®šä¹‰</h5><p>æ¯”å¦‚å¸¸è§çš„<br><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">PI <span class="token number">3.14</span></span></span></code></pre><br>ç”¨<strong>#</strong>å¼€å¤´çš„è¯­å¥ä¸ºé¢„å¤„ç†è¯­å¥ï¼Œ#defineè¯­å¥çš„ä½œç”¨åªæ˜¯ç®€å•çš„å­—ç¬¦æ›¿æ¢ã€‚å½“ç¨‹åºå¼€å§‹ç¼–è¯‘æ—¶ä¼šè¿›è¡Œå®å±•å¼€ï¼ŒæŠŠ#defineè¯­å¥ä½œç”¨åŸŸä¸­çš„ç¨‹åºè¿›è¡Œå­—ç¬¦æ›¿æ¢ã€‚</p>
<p>è¿™é‡Œæœ‰å‡ ä¸ªæ³¨æ„çš„ç‚¹ï¼š</p>
<p>1ã€#defineçš„ä½œç”¨åŸŸæ˜¯è¯­å¥ä½ç½®åˆ°ç¨‹åºæœ«å°¾ã€‚ä¸»ç¨‹åºä¸­å¯ä»¥å®šä¹‰å®ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">A <span class="token number">12</span></span></span>
    <span class="token keyword">int</span> c<span class="token operator">=</span>A<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>ç»“æœä¸º</p>
<blockquote>
<p>12</p>
</blockquote>
<p>2ã€è¯­å¥ä½ç½®é åçš„#defineä¼˜å…ˆçº§é«˜ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">A <span class="token number">12</span></span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">A <span class="token number">10</span></span></span>
    <span class="token keyword">int</span> c<span class="token operator">=</span>A<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>ç»“æœä¸º</p>
<blockquote>
<p>10</p>
</blockquote>
<p>3ã€ç”¨#undef XXXå¯ä»¥å–æ¶ˆXXXçš„å®å®šä¹‰</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">A <span class="token number">12</span></span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">A <span class="token number">10</span></span></span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">undef</span> <span class="token expression">A</span></span>
    <span class="token keyword">int</span> c<span class="token operator">=</span>A<span class="token punctuation">;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>æ²¡æœ‰ç»“æœä¼šåœ¨å®šä¹‰<strong>c</strong>çš„é‚£è¡ŒæŠ¥é”™ã€‚</p>
<p>4ã€#defineå¯ä»¥å¸¦å‚ï¼Œå¯ä»¥ç”¨æ¥å®šä¹‰ç®€å•çš„å‡½æ•°ã€‚<br><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token function">max</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span> <span class="token punctuation">(</span>a<span class="token operator">></span>b<span class="token operator">?</span>a<span class="token operator">:</span>b<span class="token punctuation">)</span></span></span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre><br>è¾“å‡ºç»“æœä¸º4ã€‚</p>
<h5 id="åŒ…å«å¤´æ–‡ä»¶çš„å®"><a href="#åŒ…å«å¤´æ–‡ä»¶çš„å®" class="headerlink" title="åŒ…å«å¤´æ–‡ä»¶çš„å®"></a>åŒ…å«å¤´æ–‡ä»¶çš„å®</h5><p>å°±æ˜¯å¤´æ–‡ä»¶å¼•ç”¨<strong>#include<stdio,h></strong>ï¼Œä¹Ÿå¯ä»¥å†™æˆ<strong>#includeâ€stdio.hâ€</strong>ã€‚</p>
<p>ä¸¤è€…åŒºåˆ«å¦‚ä¸‹ï¼š</p>
<p><strong>â€œâ€</strong>ï¼šç°åœ¨æºä»£ç æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾æœ‰æ— æ­¤å¤´æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰åˆ™å»ç¼–è¯‘å™¨çš„<strong>bin</strong>æ–‡ä»¶å¤¹æŸ¥æ‰¾ã€‚</p>
<p><strong>&lt;&gt;</strong>ï¼šç›´æ¥å»ç¼–è¯‘å™¨çš„<strong>bin</strong>æ–‡ä»¶å¤¹ä¸­æŸ¥æ‰¾ã€‚</p>
<h5 id="æ¡ä»¶ç¼–è¯‘å®"><a href="#æ¡ä»¶ç¼–è¯‘å®" class="headerlink" title="æ¡ä»¶ç¼–è¯‘å®"></a>æ¡ä»¶ç¼–è¯‘å®</h5><p>æˆ‘ä»¬ä¸€èˆ¬ç”¨æ¡ä»¶ç¼–è¯‘å®æ¥åŒ…å«å¤´æ–‡ä»¶</p>
<p>æ¯”è¾ƒå¸¸ç”¨çš„æœ‰æ ¼å¼æ˜¯</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_SEG_H_ </span><span class="token comment">//å¦‚æœæ²¡æœ‰çš„å®šä¹‰seg.h</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">_SEG_H_</span></span>

#ä»£ç å—

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></code></pre>
<h5 id="é¢„å¤„ç†å®"><a href="#é¢„å¤„ç†å®" class="headerlink" title="é¢„å¤„ç†å®"></a>é¢„å¤„ç†å®</h5><p>å³å·²ç»è¢«è®¾ç½®æ— æ³•ä¿®æ”¹çš„å®ã€‚</p>
<p>æ¯”è¾ƒå¸¸ç”¨çš„æœ‰<strong><strong>DATE</strong></strong>ï¼Œ<strong><strong>TIME</strong></strong>ï¼Œ<strong><strong>FILE</strong></strong>ã€‚</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n%s\n%s\n"</span><span class="token punctuation">,</span><span class="token constant">__DATE__</span><span class="token punctuation">,</span><span class="token constant">__TIME__</span><span class="token punctuation">,</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>ç»“æœå¦‚ä¸‹</p>
<blockquote>
<p>Mar 17 2021<br>16:32:28<br>C:\Users\86151\Desktop\C\hong\main.c</p>
</blockquote>
<h3 id="å¤šæ–‡ä»¶ç¼–è¯‘åŸç†"><a href="#å¤šæ–‡ä»¶ç¼–è¯‘åŸç†" class="headerlink" title="å¤šæ–‡ä»¶ç¼–è¯‘åŸç†"></a>å¤šæ–‡ä»¶ç¼–è¯‘åŸç†</h3><p>è¿™æ˜¯æ¨¡å—åŒ–ç¼–ç¨‹çš„æ ¸å¿ƒåŸç†ã€‚</p>
<p>åœ¨ä¸€ä¸ª<strong>.c</strong>æ–‡ä»¶è½¬åŒ–ä¸º<strong>.xex</strong>æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ã€‚åŒ…å«ç€<strong>ç¼–è¯‘ï¼ˆCompileï¼‰</strong>å’Œ<strong>é“¾æ¥ï¼ˆLinkï¼‰</strong>ä¸¤ä¸ªæ­¥éª¤ï¼šç¼–è¯‘è´Ÿè´£æ£€æŸ¥æºæ–‡ä»¶æ˜¯å¦æœ‰è¯­æ³•é”™è¯¯ã€å®šä¹‰é”™è¯¯ç­‰é—®é¢˜å¹¶ç”Ÿæˆæˆç›®æ ‡æ–‡ä»¶ï¼ˆObject Fileï¼‰å³Windowsä¸‹çš„<strong>.obj</strong>æ–‡ä»¶ã€‚åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­å¯¹äºæºæ–‡ä»¶ä¸­çš„å‡½æ•°åªä¼šæ£€æŸ¥æ­¤å‡½æ•°æ˜¯å¦è¢«å£°æ˜ï¼Œå¹¶ä¸ä¼šæŸ¥æ‰¾å‡½æ•°ä½ç½®ã€‚é“¾æ¥åˆ™è´Ÿè´£ä»å¤šä¸ª<strong>.obj</strong>æ–‡ä»¶ä¸­æŸ¥æ‰¾å‡½æ•°ä½ç½®ã€‚</p>
<p>æ‰€ä»¥æ¨¡å—åŒ–ç¼–ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼šå»ºç«‹<strong>main.c</strong>æ–‡ä»¶å’Œ<strong>main.h</strong>æ–‡ä»¶ä»¥åŠå„ä¸ªæ¨¡å—çš„<strong>.c</strong>ã€<strong>.h</strong>æ–‡ä»¶æ¯”å¦‚<strong>seg.c</strong>ï¼Œ<strong>seg.h</strong>ã€‚<strong>.h</strong>æ–‡ä»¶ä¸­åªæœ‰å‡½æ•°çš„å£°æ˜ï¼Œè€Œ<strong>.c</strong>æ–‡ä»¶ä¸­åŒ…å«å‡½æ•°çš„å…·ä½“å®šä¹‰ã€‚ç„¶åå†<strong>main.c</strong>ä¸­åŒ…å«<strong>main.h</strong>å¤´æ–‡ä»¶ï¼Œåœ¨<strong>main.h</strong>å¤´æ–‡ä»¶ä¸­åŒ…å«<strong>seg.h</strong>å¤´æ–‡ä»¶ã€‚ç¼–è¯‘æ‰€æœ‰æ¨¡å—çš„<strong>.c</strong>æ–‡ä»¶æœ€åå†ç¼–è¯‘<strong>main.c</strong>ç”Ÿæˆ<strong>.hex</strong>æ–‡ä»¶</p>
<h3 id="Task"><a href="#Task" class="headerlink" title="Task"></a>Task</h3><p>å¯ä»¥è°ƒèŠ‚æ—¶é—´çš„clockï¼Œæ•°ç ç®¡æ˜¾ç¤ºã€‚ï¼ˆä»…å½“ä½œæ¨¡å—åŒ–ç¼–ç¨‹çš„ä¾‹å­ï¼‰</p>
<p>main.c</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"main.h"</span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">uint8_t</span> s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>m<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>h<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">uint16_t</span> cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">deplay</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span>m<span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
		cnt<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>cnt<span class="token operator">==</span><span class="token number">80</span><span class="token punctuation">)</span>cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>s<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>s<span class="token operator">==</span><span class="token number">60</span><span class="token punctuation">)</span>s<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>m<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token operator">>=</span><span class="token number">60</span><span class="token punctuation">)</span>m<span class="token operator">-=</span><span class="token number">60</span><span class="token punctuation">,</span>h<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>h<span class="token operator">>=</span><span class="token number">24</span><span class="token punctuation">)</span>h<span class="token operator">-=</span><span class="token number">24</span><span class="token punctuation">;</span>
		value<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token function">get_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span>h<span class="token operator">=</span><span class="token punctuation">(</span>h<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">24</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span>h<span class="token operator">=</span><span class="token punctuation">(</span>h<span class="token operator">-</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">24</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span>m<span class="token operator">=</span><span class="token punctuation">(</span>m<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span>m<span class="token operator">=</span><span class="token punctuation">(</span>m<span class="token operator">-</span><span class="token number">1</span><span class="token operator">+</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token operator">%</span><span class="token number">60</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>main.h</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_MAIN_H_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">_MAIN_H_</span></span>

<span class="token comment">//å¤´æ–‡ä»¶</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;reg52.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"key.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"seg.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"delay.h"</span></span>

<span class="token comment">//å®å®šä¹‰</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint8_t</span>  <span class="token keyword">unsigned</span> <span class="token keyword">char</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint16_t</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></code></pre>
<p>seg.c<br><pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"seg.h"</span></span>

<span class="token comment">//å®šä¹‰å­—ç¬¦ç è¡¨å’Œä½é€‰ç </span>
<span class="token keyword">uint8_t</span> code segment_code<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token number">0XC0</span><span class="token punctuation">,</span><span class="token number">0XF9</span><span class="token punctuation">,</span><span class="token number">0XA4</span><span class="token punctuation">,</span><span class="token number">0XB0</span><span class="token punctuation">,</span><span class="token number">0X99</span><span class="token punctuation">,</span><span class="token number">0X92</span><span class="token punctuation">,</span><span class="token number">0X82</span><span class="token punctuation">,</span><span class="token number">0XF8</span><span class="token punctuation">,</span><span class="token number">0X80</span><span class="token punctuation">,</span><span class="token number">0X90</span> <span class="token comment">//å¯¹åº”0-9çš„å­—ç¬¦</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//æ®µç </span>

<span class="token keyword">uint8_t</span> code bit_code<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
     <span class="token number">0XFE</span><span class="token punctuation">,</span><span class="token number">0XFD</span><span class="token punctuation">,</span><span class="token number">0XFB</span><span class="token punctuation">,</span><span class="token number">0XF7</span><span class="token punctuation">,</span><span class="token number">0XEF</span><span class="token punctuation">,</span><span class="token number">0XDF</span><span class="token punctuation">,</span><span class="token number">0XBF</span><span class="token punctuation">,</span><span class="token number">0X7F</span> <span class="token comment">//å¯¹åº”8ä½æ•°ç ç®¡</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//ä½ç </span>

<span class="token keyword">void</span> <span class="token function">deplay_2bit</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> p<span class="token punctuation">,</span><span class="token keyword">uint8_t</span> n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	
	BIT<span class="token operator">=</span><span class="token number">0xff</span><span class="token punctuation">;</span>
	SEGMENT<span class="token operator">=</span>segment_code<span class="token punctuation">[</span>n<span class="token operator">%</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	BIT<span class="token operator">=</span>bit_code<span class="token punctuation">[</span>p<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	BIT<span class="token operator">=</span><span class="token number">0xff</span><span class="token punctuation">;</span>
	SEGMENT<span class="token operator">=</span>segment_code<span class="token punctuation">[</span>n<span class="token operator">/</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	BIT<span class="token operator">=</span>bit_code<span class="token punctuation">[</span>p<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">void</span> <span class="token function">deplay</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> s<span class="token punctuation">,</span><span class="token keyword">uint8_t</span> m<span class="token punctuation">,</span><span class="token keyword">uint8_t</span> h<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token function">deplay_2bit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	BIT<span class="token operator">=</span><span class="token number">0xff</span><span class="token punctuation">;</span>
	SEGMENT<span class="token operator">=</span><span class="token number">0xBF</span><span class="token punctuation">;</span>
	BIT<span class="token operator">=</span>bit_code<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token function">deplay_2bit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	BIT<span class="token operator">=</span><span class="token number">0xff</span><span class="token punctuation">;</span>
	SEGMENT<span class="token operator">=</span><span class="token number">0xBF</span><span class="token punctuation">;</span>
	BIT<span class="token operator">=</span>bit_code<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token function">deplay_2bit</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span>h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></p>
<p>seg.h</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_SEG_H_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">_SEG_H_</span></span>

<span class="token comment">//å¤´æ–‡ä»¶</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;reg52.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"delay.h"</span></span>

<span class="token comment">//å®å®šä¹‰</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint8_t</span>  <span class="token keyword">unsigned</span> <span class="token keyword">char</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint16_t</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">BIT P1</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">SEGMENT P0</span></span>

<span class="token keyword">void</span> <span class="token function">deplay</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> s<span class="token punctuation">,</span><span class="token keyword">uint8_t</span> m<span class="token punctuation">,</span><span class="token keyword">uint8_t</span> h<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">void</span> <span class="token function">deplay_2bit</span><span class="token punctuation">(</span><span class="token keyword">uint8_t</span> p<span class="token punctuation">,</span><span class="token keyword">uint8_t</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
	
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></code></pre>
<p>key.c</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"key.h"</span></span>

sbit K1<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">3</span><span class="token punctuation">;</span>
sbit K2<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">2</span><span class="token punctuation">;</span>
sbit K3<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">1</span><span class="token punctuation">;</span>
sbit K4<span class="token operator">=</span>P2<span class="token operator">^</span><span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">//è·å¾—ç‹¬ç«‹é”®ç›˜çš„å€¼</span>
<span class="token keyword">void</span> <span class="token function">get_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>K1<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>K1<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>K1<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>K2<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>K2<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>value<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>K2<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>K3<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>K3<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>value<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>K3<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>K4<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>K4<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span>value<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>K4<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>key.h</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_KEY_H_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">_KEY_H_</span></span>

<span class="token comment">//å¤´æ–‡ä»¶</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;reg52.h></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"delay.h"</span></span>

<span class="token comment">//å®å®šä¹‰</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint8_t</span>  <span class="token keyword">unsigned</span> <span class="token keyword">char</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint16_t</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span></span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">GPIO_KEY P2</span></span>

<span class="token keyword">extern</span> <span class="token keyword">uint8_t</span> value<span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">get_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></code></pre>
<p>delay.c</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">//å¤´æ–‡ä»¶</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"delay.h"</span></span>

<span class="token comment">//ç²—ç•¥å»¶æ—¶å‡½æ•°</span>
<span class="token keyword">void</span> <span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token keyword">uint16_t</span> ms<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">uint16_t</span> i<span class="token punctuation">;</span>
    <span class="token keyword">uint8_t</span> j<span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>ms<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span>j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;=</span><span class="token number">115</span><span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>delay.h</p>
<pre class="language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">_DELAY_H_</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression">_DELAT_H_</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;reg52.h></span></span>

<span class="token comment">//å®å®šä¹‰</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint8_t</span>  <span class="token keyword">unsigned</span> <span class="token keyword">char</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token expression"><span class="token keyword">uint16_t</span> <span class="token keyword">unsigned</span> <span class="token keyword">int</span></span></span>


<span class="token comment">//ç²—ç•¥å»¶æ—¶å‡½æ•°</span>
<span class="token keyword">void</span> <span class="token function">delay_ms</span><span class="token punctuation">(</span><span class="token keyword">uint16_t</span> ms<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span></code></pre>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>1ã€<strong>.h</strong>æ–‡ä»¶ä¸­ä¸å¯ä»¥å®šä¹‰å˜é‡ ï¼Œåœ¨<strong>.h</strong>ä¸­åªèƒ½å£°æ˜ï¼Œä¸èƒ½å®šä¹‰ï¼</p>
<p>2ã€å‡½æ•°çš„å£°æ˜æœ‰æ— externéƒ½è¡Œï¼Œå˜é‡çš„å£°æ˜å¿…é¡»åŠ ä¸Šexternï¼Œå¦åˆ™ç¼–è¯‘å™¨æ— æ³•è¯†åˆ«å£°æ˜</p>
<p>3ã€ä¸­æ–­å‡½æ•°åœ¨<strong>.h</strong>æ–‡ä»¶ä¸­ä¸éœ€è¦å£°æ˜</p>
<h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p><a target="_blank" rel="noopener" href="https://wenku.baidu.com/view/7615a3a50b4c2e3f57276398.html">å•ç‰‡æœºCè¯­è¨€æ¨¡å—åŒ–ç¼–ç¨‹</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/as480133937/article/details/101479907">ã€Cè¯­è¨€ã€‘â€”â€”å®å®šä¹‰ï¼Œé¢„å¤„ç†å®</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/chunlanse2014/articles/4423281.html">Cè¯­è¨€æ¨¡å—åŒ–ç¼–ç¨‹</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/as480133937/article/details/93400979?utm_term=%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B&amp;utm_medium=distribute.pc_aggpage_search_result.none-task-blog-2~all~sobaiduweb~default-1-93400979&amp;spm=3001.4430">æ¨¡å—åŒ–ç¼–ç¨‹-é€šä¿—æ˜“æ‡‚</a></p>
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="æ‰“èµ" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/alipay-qrcode.jpg" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/qqpay-qrcode.png" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg"><img loading="lazy" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/donate/wechatpay-qrcode.jpg" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>æœ¬æ–‡ä½œè€…ï¼š</strong>xudaxia</li><li class="post-copyright-link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong><a href="http://example.com/2021/03/18/%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B/" title="æ¨¡å—åŒ–ç¼–ç¨‹">http://example.com/2021/03/18/%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B/</a></li><li class="post-copyright-license"><strong>ç‰ˆæƒå£°æ˜ï¼š</strong>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é»˜è®¤é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> è®¸å¯åè®®ã€‚</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2021/03/23/hello-world/" rel="prev" title="Hello World"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">Hello World</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2021/01/21/AT89C52%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next" title="AT89C52å­¦ä¹ ç¬”è®°"><span class="post-nav-text">AT89C52å­¦ä¹ ç¬”è®°</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div id="comment"><div class="comment-tooltip text-center"><span>ç‚¹å‡»æŒ‰é’®è·³è½¬ GitHub Issues è¯„è®ºã€‚</span><br><span>è‹¥æ²¡æœ‰æœ¬æ–‡ Issueï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Comment æ¨¡ç‰ˆæ–°å»ºã€‚</span><br><a class="hty-button hty-button--raised" id="github-issues" target="_blank" rel="noopener" href="https://github.com/YunYouJun/yunyoujun.github.io/issues?q=is:issue+æ¨¡å—åŒ–ç¼–ç¨‹">GitHub Issues</a></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2021 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> xudaxia</span></div><div class="powered"><span>ç”± <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> é©±åŠ¨ v5.2.0</span><span class="footer-separator">|</span><span>ä¸»é¢˜ - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.3.0</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>